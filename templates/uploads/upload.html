{% extends 'base.html' %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">Upload CSV File</h2>
    
    <div class="bg-white p-6 rounded-lg shadow">
        <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">CSV Format Requirements</h3>
            <ul class="list-disc list-inside text-gray-600 space-y-1">
                <li>File must be in CSV format</li>
                <li>Maximum file size: 100MB</li>
                <li>Must contain a SKU column (case-insensitive, will be converted to uppercase)</li>
                <li>Optional columns: Name, Description</li>
                <li>Duplicate SKUs will be updated with new data</li>
                <li>Large files are processed in the background</li>
            </ul>
        </div>

        <form method="post" enctype="multipart/form-data" class="space-y-4">
            {% csrf_token %}
            
            <div>
                <label for="csv_file" class="block text-sm font-medium text-gray-700 mb-2">
                    Select CSV File
                </label>
                <input type="file" name="csv_file" accept=".csv" required
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                <p class="mt-1 text-sm text-gray-500">Supported: .csv files only</p>
            </div>

            <div class="flex space-x-3">
                <button type="submit" 
                        class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    Upload and Process
                </button>
                <a href="{% url 'upload-history' %}" 
                   class="bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700">
                    View History
                </a>
                <a href="{% url 'product-list' %}" 
                   class="bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700">
                    View Products
                </a>
            </div>
        </form>

        <!-- Sample CSV Structure -->
        <div class="mt-8 border-t pt-6">
            <h4 class="text-md font-semibold text-gray-700 mb-3">Sample CSV Structure:</h4>
            <div class="bg-gray-100 p-4 rounded-md font-mono text-sm">
                <div>sku,name,description</div>
                <div>PROD001,Product One,This is product one description</div>
                <div>PROD002,Product Two,This is product two description</div>
                <div>PROD003,Product Three,This is product three description</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
